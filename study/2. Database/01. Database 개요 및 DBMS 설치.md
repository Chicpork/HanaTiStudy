# Database 개요

## Database 소개

* Database 정의

  > 기업이나 기관의 사용자 또는 응용프로그램들이 공유하여 사용할 수 있도록 통합 저장된 "데이터들의 집합"을 의미한다.

* Database 특징

  * 데이터베이스는 다양한 응용프로그램들에 의해 공유될 수 있다.
  * 데이터베이스의 데이터들은 서로 연관성을 가지며, 중복된 데이터 없이 안전하고, 영속적으로 관리되어야 한다.
  * 쉽고 빠르게 저장, 검색, 수정, 삭제(Create, Read, Update, Delete) 등이 가능하여야 한다.
  * 예) 학사 정보 데이터베이스, 도서 정보 데이터베이스, 인사 정보 데이터베이스, 판매 정보 데이터베이스 등

* Database 등장 배경

  * **기존 파일 시스템(데이터파일)의 한계**
    * 파일 시스템은 데이터를 영속적으로 저장할 수 있는 가장 일반적인 방법이지만, 중복된 데이터 저장이 빈번이 발생할 수 있으며, 대용량의 데이터를 저장하고 관리하기에는 한계가 있다.
    * 여러 응용프로그램들이 데이터를 공유하기 쉽지 않다.
      * 일반적으로 하나의 데이터 파일은 하나의 응용 프로그램에 의해 사용된다.
    * 보안에 취약할 수 있다.
  * 파일시스템의 한계를 극복하고, 대용랴으이 데이터를 체계적으로 저장, 관리 하기 위한 개념이 Database이다.



## DBMS(Database Management System) 소개

* 위의 데이터베이스는 정보가 들어가 있는 틀일 뿐. 이들을 관리하는 소프트웨어를 **데이터베이스 관리시스템(DBMS)**이라 한다.

* 클라이언트 애플리케이션과 Database의 중재자로서 Database를 보다 안전하고 효율적으로 관리하며, 클라이언트의 데이터 요청(저장, 검색, 수정, 삭제 등)에 대해 다양한 서비스(Service)를 제공하는 **TCP/IP 기반의 서버 애플리케이션**을 말한다.

* DBMS 특징
  * 모든 클라이언트들이 Database를 공유할 수 있게끔 관리해 준다.
  * 사용자가 새로운 데이터베이스를 생성하고, 데이터베이스의 구조를 명시할 수 있게 하고, 사용자가 데이터를  효율적으로 질의(Query)하고 수정할 수 있도록 한다.
  * 시스템의 고장이나 권한이 없는 사용자로부터 데이터를 안전하게 보호하며, 동시 사용자가 데이터베이스를 접근하는 것을 제어한다.
  * DBA(Database Administrator) : Database의 전체적인 운영과 관리 업무 담당
* 대표적인 DBMS 제품
  * Oracle
  * MySQL
  * MariaDB
  * MS-SQL
  * Informix
  * Sybase
  * DB2 등

* DBMS 변천사
  * 1960년대 : File System(SAM)
  * 1970년대 : 네트워크 - DBMS, 계층형 - DBMS
  * 1980년대 : 관계형 - DBMS
  * 1990년대 : 객체지향형 - DBMS
  * 2000년대 : 객체관계형 - DBMS



## 관계형 DBMS

* 대표적인 DBMS로 기본적인 데이터 저장 단위로 2차원 테이블(표)을 이용하며, 
  테이블간의 관계를 통해 데이터를 조직화다.
* 데이터 무결성, 트랜잭션 처리 등 기본적 기능이 우수하다.
* SQL(Structured Query Language)를 사용하여 데이터베이스 통신언어로 사용한다.



### 관계형 데이터베이스 주요 용어

![1536910685959](image/table.png)

* 데이터베이스의 기본 데이터 저장 단위로 2차원 구조의 테이블(Relation)을 사용하며, 테이블 간의 관계를 활용하여 데이터를 조직화한다.
* 테이블은 행(Row)와 열(Column)의 2차원 행렬 구조를 가진다.
* 행(Row)은 파일 시스템에서 “레코드”를 나타내며
* 컬럼(Column)는 속성(사원번호, 사원명, 직급, 급여 등)을 나타낸다.



### 관계형 데이터베이스 데이터 유형

![1536910345097](image/datatype.png)
* 여기서 내장 데이터타입이 주로 사용된다.
* 내장 말고도 자바에서 클래스처럼 우리가 새로 만들어 사용자 정의 데이터타입도 만들 수 있다.
* 내장 중에도 콜렉션이나 관계형은 RDBMS에서는 사용이 힘들다
  * 객체관계형에서 가능한 것들이다.



### Oracle XE(Expression Edition) 다운로드 및 설치

* Oracle XE 는 데이터베이스를 처음 접하는 사용자들을 위해 쉬운 설치와 편리하게 사용할 수 있는 환경을 제공하기 위해 만들어진 에디션
* CPU 1개로만 구동 가능하다.
* 오라클은 1521을 이용해 통신을 받는다.
* oraclexe\app\oracle\oradata\XE 폴더에 데이터베이스가 물리적으로 저장된다고 생각하면 된다.
* XE 버전은 기본적으로 데이터 베이스를 하나 XE라는 이름으로 만든다.
  * 새로운 데이터 베이스를 만들고 이름을 변경하거나 할 수없다.
  * 더 많은 데이터 베이스를 만들고 싶다면 SE 나 EE 버전을 사용해야 한다.
* 오라클 설치 시 컴퓨터 서비스에서 몇개가 추가된다.
  * 그 중 OracleServiceXE 는 내가 데이터 베이스를 혼자 통신할 때 사용하는 서비스다
  * OracleXETNListener 는 내가 다른 네트워크와 통신하기 위해 만들어진 서버라고 생각해도 된다. 이를 통해 데이터를 수신하고 한다.



#### SQL Plus를 이용한 Oracle 접속

* sql plus는 Oracle 설치 시 자동 설치되는 오라클 내장 CUI 클라이언트이다.
* ![1536914305362](image/account.png)
  * SYS와 SYSTEM은 일반 사용자 계정을 만들거나 데이터베이스를 관리할 수 있는 막강한 DBA 권한을 가진다.
  * SCOTT, HR 등은 일반 사용자 계정으로 오라클의 기본적인 SQL문을 실행할 수 있는 권한을 가진다(교육용 계정)
* 처음 설치시 SYS 이용하여 HR 권한을 풀어줘야 사용할 수 있다.
* SYS 계정은 많은 권한을 가져 제한적으로 사용해야 한다.
* HR 권한 해제 과정
  * `connect sys sys/orcle as sysdba` 로 SYS 연결
  * `alter user hr identified by hr account unlock;`을 통해 HR 계정을 hr 비밀번호를 정하면서 계정 언락
  * 다음 부터는 `connect hr /hr`을 통해 접속 가능하다.

